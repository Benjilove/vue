{"remainingRequest":"/Users/a123/Desktop/Supra-forum/node_modules/babel-loader/lib/index.js!/Users/a123/Desktop/Supra-forum/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/a123/Desktop/Supra-forum/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/a123/Desktop/Supra-forum/src/views/my_components/myFriend.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/a123/Desktop/Supra-forum/src/views/my_components/myFriend.vue","mtime":1581935982000},{"path":"/Users/a123/Desktop/Supra-forum/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/a123/Desktop/Supra-forum/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/a123/Desktop/Supra-forum/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/a123/Desktop/Supra-forum/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgVG9hc3QgfSBmcm9tICJtaW50LXVpIjsKaW1wb3J0IG15YXhpb3MsIHsgZ2V0c2Vzc2lvblVSTCwgZ2V0TXlGcmllbmRzVVJMLCBkZWxldGVGcmllbmRVUkwgfSBmcm9tICJAL3Rvb2xzL215YXhpb3MuanMiOwppbXBvcnQgbXVpIGZyb20gIkAvLi4vbGliL211aS9qcy9tdWkuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXI6ICIiLAogICAgICBmcmllbmRzOiAiIgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGRlbGV0ZUZyaWVuZDogZnVuY3Rpb24gZGVsZXRlRnJpZW5kKGZyaWVuZElEKSB7CiAgICAgIHZhciBvYmosIHJlc3VsdCwgcmVzdWx0MjsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBkZWxldGVGcmllbmQkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIG9iaiA9IHsKICAgICAgICAgICAgICAgIGZyaWVuZF9pZDogZnJpZW5kSUQKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAobXlheGlvcygiUE9TVCIsIGRlbGV0ZUZyaWVuZFVSTCwgb2JqKSk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgaWYgKCEocmVzdWx0LmRhdGEuY29kZSA9PSAxMDEpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIFRvYXN0KCLlj5bmtojlhbPms6jmiJDlip/vvIEiKTsKICAgICAgICAgICAgICBvYmogPSB7CiAgICAgICAgICAgICAgICB1c2VySUQ6IHRoaXMudXNlci5faWQKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAobXlheGlvcygiUE9TVCIsIGdldE15RnJpZW5kc1VSTCwgb2JqKSk7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgcmVzdWx0MiA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgdGhpcy5mcmllbmRzID0gcmVzdWx0Mi5kYXRhLmZyaWVuZHM7CgogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBudWxsLCB0aGlzKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgcmVzdWx0MSwgb2JqLCByZXN1bHQyOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBjcmVhdGVkJChfY29udGV4dDIpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKG15YXhpb3MoIkdFVCIsIGdldHNlc3Npb25VUkwpKTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJlc3VsdDEgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgIGlmICghcmVzdWx0MS5kYXRhLnVzZXIpIHsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEyOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0aGlzLnVzZXIgPSByZXN1bHQxLmRhdGEudXNlcjsKICAgICAgICAgICAgb2JqID0gewogICAgICAgICAgICAgIHVzZXJJRDogdGhpcy51c2VyLl9pZAogICAgICAgICAgICB9OwogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDg7CiAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAobXlheGlvcygiUE9TVCIsIGdldE15RnJpZW5kc1VSTCwgb2JqKSk7CgogICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICByZXN1bHQyID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgIHRoaXMuZnJpZW5kcyA9IHJlc3VsdDIuZGF0YS5mcmllbmRzOwogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEzOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL215Iik7CgogICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgbnVsbCwgdGhpcyk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIGhlYWRlcl90aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIm1pbnQtaGVhZGVyLXRpdGxlIilbMF07CiAgICBoZWFkZXJfdGl0bGUuaW5uZXJUZXh0ID0gIuaIkeeahOWFs+azqCI7CiAgICBtdWkoIi5tdWktc2Nyb2xsLXdyYXBwZXIiKS5zY3JvbGwoewogICAgICBkZWNlbGVyYXRpb246IDAuMDAwNSAvL2ZsaWNrIOWHj+mAn+ezu+aVsO+8jOezu+aVsOi2iuWkp++8jOa7muWKqOmAn+W6pui2iuaFou+8jOa7muWKqOi3neemu+i2iuWwj++8jOm7mOiupOWAvDAuMDAwNgoKICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["myFriend.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqFA,SAAA,KAAA,QAAA,SAAA;AACA,OAAA,OAAA,IACA,aADA,EAEA,eAFA,EAGA,eAHA,QAIA,oBAJA;AAKA,OAAA,GAAA,MAAA,wBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAAA;AAIA,GANA;AAOA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,wBACA,QADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,cAAA,GAFA,GAEA;AACA,gBAAA,SAAA,EAAA;AADA,eAFA;AAAA;AAAA,8CAKA,OAAA,CAAA,MAAA,EAAA,eAAA,EAAA,GAAA,CALA;;AAAA;AAKA,cAAA,MALA;;AAAA,oBAMA,MAAA,CAAA,IAAA,CAAA,IAAA,IAAA,GANA;AAAA;AAAA;AAAA;;AAOA,cAAA,KAAA,CAAA,SAAA,CAAA;AACA,cAAA,GARA,GAQA;AACA,gBAAA,MAAA,EAAA,KAAA,IAAA,CAAA;AADA,eARA;AAAA;AAAA,8CAWA,OAAA,CAAA,MAAA,EAAA,eAAA,EAAA,GAAA,CAXA;;AAAA;AAWA,cAAA,OAXA;AAYA,mBAAA,OAAA,GAAA,OAAA,CAAA,IAAA,CAAA,OAAA;;AAZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAPA;AAuBA,EAAA,OAvBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAwBA,OAAA,CAAA,KAAA,EAAA,aAAA,CAxBA;;AAAA;AAwBA,YAAA,OAxBA;;AAAA,iBAyBA,OAAA,CAAA,IAAA,CAAA,IAzBA;AAAA;AAAA;AAAA;;AA0BA,iBAAA,IAAA,GAAA,OAAA,CAAA,IAAA,CAAA,IAAA;AACA,YAAA,GA3BA,GA2BA;AACA,cAAA,MAAA,EAAA,KAAA,IAAA,CAAA;AADA,aA3BA;AAAA;AAAA,4CA8BA,OAAA,CAAA,MAAA,EAAA,eAAA,EAAA,GAAA,CA9BA;;AAAA;AA8BA,YAAA,OA9BA;AA+BA,iBAAA,OAAA,GAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AA/BA;AAAA;;AAAA;AAiCA,iBAAA,OAAA,CAAA,IAAA,CAAA,KAAA;;AAjCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoCA,EAAA,OApCA,qBAoCA;AACA,QAAA,YAAA,GAAA,QAAA,CAAA,sBAAA,CAAA,mBAAA,EAAA,CAAA,CAAA;AACA,IAAA,YAAA,CAAA,SAAA,GAAA,MAAA;AACA,IAAA,GAAA,CAAA,qBAAA,CAAA,CAAA,MAAA,CAAA;AACA,MAAA,YAAA,EAAA,MADA,CACA;;AADA,KAAA;AAGA;AA1CA,CAAA","sourcesContent":["<template>\n  <div>\n    <div class=\"friends_content\">\n      <div class=\"mui-scroll-wrapper mui-scroll_content\">\n        <div class=\"mui-scroll\">\n          <div class=\"friends_item\" v-for=\"friend in friends\" :key=\"friend._id\">\n            <div class=\"friends_item_left\">\n              <img :src=\"'http://49.234.217.92:9000'+friend.friend_avatar\" alt />\n            </div>\n            <div class=\"friends_item_mid\">\n              <div class=\"friends_item_nickname\">{{friend.friend_nickname}}</div>\n              <div class=\"friends_item_createdTime\">关注时间：{{friend.created_time | dateFormat}}</div>\n            </div>\n            <div class=\"friends_item_right\">\n              <div class=\"friends_item_btn1\" @click=\"deleteFriend(friend.friendID)\">取消关注</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"less\" scoped>\n.friends_content {\n  width: 100%;\n  height: 100%;\n  .friends_item {\n    width: 100%;\n    height: 80px;\n    margin-top: 5px;\n    .friends_item_left {\n      float: left;\n      width: 20%;\n      height: 80px;\n      position: relative;\n      img {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        width: 50px;\n        height: 50px;\n        border-radius: 50%;\n      }\n    }\n    .friends_item_mid {\n      float: left;\n      width: 60%;\n      height: 80px;\n      .friends_item_nickname {\n        width: 100%;\n        height: 50%;\n        line-height: 40px;\n        text-align: center;\n      }\n      .friends_item_createdTime {\n        width: 100%;\n        height: 50%;\n        line-height: 40px;\n        text-align: center;\n        font-size: 10px;\n      }\n    }\n    .friends_item_right {\n      float: left;\n      width: 20%;\n      height: 80px;\n      .friends_item_btn1 {\n        width: 100%;\n        height: 50%;\n        line-height: 80px;\n        text-align: center;\n        color: blue;\n      }\n    }\n  }\n}\n\n.mui-scroll_content {\n  top: 40px;\n  bottom: 54px;\n}\n</style>\n<script>\nimport { Toast } from \"mint-ui\";\nimport myaxios, {\n  getsessionURL,\n  getMyFriendsURL,\n  deleteFriendURL\n} from \"@/tools/myaxios.js\";\nimport mui from \"@/../lib/mui/js/mui.js\";\nexport default {\n  data: function() {\n    return {\n      user: \"\",\n      friends: \"\"\n    };\n  },\n  methods: {\n    async deleteFriend(friendID) {\n      var obj = {\n        friend_id: friendID\n      };\n      let result = await myaxios(\"POST\", deleteFriendURL, obj);\n      if (result.data.code == 101) {\n        Toast(\"取消关注成功！\");\n        var obj = {\n          userID: this.user._id\n        };\n        let result2 = await myaxios(\"POST\", getMyFriendsURL, obj);\n        this.friends = result2.data.friends;\n      }\n    }\n  },\n  async created() {\n    let result1 = await myaxios(\"GET\", getsessionURL);\n    if (result1.data.user) {\n      this.user = result1.data.user;\n      var obj = {\n        userID: this.user._id\n      };\n      let result2 = await myaxios(\"POST\", getMyFriendsURL, obj);\n      this.friends = result2.data.friends;\n    } else {\n      this.$router.push(\"/my\");\n    }\n  },\n  mounted() {\n    var header_title = document.getElementsByClassName(\"mint-header-title\")[0];\n    header_title.innerText = \"我的关注\"\n    mui(\".mui-scroll-wrapper\").scroll({\n      deceleration: 0.0005 //flick 减速系数，系数越大，滚动速度越慢，滚动距离越小，默认值0.0006\n    });\n  }\n};\n</script>"],"sourceRoot":"src/views/my_components"}]}