{"remainingRequest":"/Users/a123/Desktop/Supra 2/Supra-forum/node_modules/babel-loader/lib/index.js!/Users/a123/Desktop/Supra 2/Supra-forum/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/a123/Desktop/Supra 2/Supra-forum/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/a123/Desktop/Supra 2/Supra-forum/src/views/my_components/myPost.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/a123/Desktop/Supra 2/Supra-forum/src/views/my_components/myPost.vue","mtime":1582368015135},{"path":"/Users/a123/Desktop/Supra 2/Supra-forum/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/a123/Desktop/Supra 2/Supra-forum/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/a123/Desktop/Supra 2/Supra-forum/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/a123/Desktop/Supra 2/Supra-forum/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgVG9hc3QgfSBmcm9tICJtaW50LXVpIjsKaW1wb3J0IG15YXhpb3MsIHsgZ2V0TXlUb3BpY3NVUkwsIGdldHNlc3Npb25VUkwsIGRlbGV0ZU15VG9waWNVUkwgfSBmcm9tICJAL3Rvb2xzL215YXhpb3MuanMiOwppbXBvcnQgbXVpIGZyb20gIkAvLi4vbGliL211aS9qcy9tdWkuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRvcGljczogIiIsCiAgICAgIHVzZXI6ICIiCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZGVsZXRlTXlUb3BpYzogZnVuY3Rpb24gZGVsZXRlTXlUb3BpYyh0b3BpY0lEKSB7CiAgICAgIHZhciBvYmosIHJlc3VsdCwgcmVzdWx0MjsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBkZWxldGVNeVRvcGljJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBvYmogPSB7CiAgICAgICAgICAgICAgICB0b3BpY0lEOiB0b3BpY0lECiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKG15YXhpb3MoIlBPU1QiLCBkZWxldGVNeVRvcGljVVJMLCBvYmopKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBpZiAoIShyZXN1bHQuZGF0YS5jb2RlID09IDEwMSkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgVG9hc3QoIuWIoOmZpOaIkOWKn++8gSIpOwogICAgICAgICAgICAgIG9iaiA9IHsKICAgICAgICAgICAgICAgIHVzZXJJRDogdGhpcy51c2VyLl9pZAogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChteWF4aW9zKCJQT1NUIiwgZ2V0TXlUb3BpY3NVUkwsIG9iaikpOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIHJlc3VsdDIgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBpZiAocmVzdWx0Mi5kYXRhLmNvZGUgPT0gMTAxKSB7CiAgICAgICAgICAgICAgICB0aGlzLnRvcGljcyA9IHJlc3VsdDIuZGF0YS50b3BpY3M7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgbnVsbCwgdGhpcyk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIHJlc3VsdDEsIG9iaiwgcmVzdWx0MjsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gY3JlYXRlZCQoX2NvbnRleHQyKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChteWF4aW9zKCJHRVQiLCBnZXRzZXNzaW9uVVJMKSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXN1bHQxID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICBpZiAoIXJlc3VsdDEuZGF0YS51c2VyKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdGhpcy51c2VyID0gcmVzdWx0MS5kYXRhLnVzZXI7CiAgICAgICAgICAgIG9iaiA9IHsKICAgICAgICAgICAgICB1c2VySUQ6IHRoaXMudXNlci5faWQKICAgICAgICAgICAgfTsKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA4OwogICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKG15YXhpb3MoIlBPU1QiLCBnZXRNeVRvcGljc1VSTCwgb2JqKSk7CgogICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICByZXN1bHQyID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICBpZiAocmVzdWx0Mi5kYXRhLmNvZGUgPT0gMTAxKSB7CiAgICAgICAgICAgICAgdGhpcy50b3BpY3MgPSByZXN1bHQyLmRhdGEudG9waWNzOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEzOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL215Iik7CgogICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgbnVsbCwgdGhpcyk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIGhlYWRlcl90aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIm1pbnQtaGVhZGVyLXRpdGxlIilbMF07CiAgICBoZWFkZXJfdGl0bGUuaW5uZXJUZXh0ID0gIuaIkeeahOW4luWtkCI7CiAgICBtdWkoIi5tdWktc2Nyb2xsLXdyYXBwZXIiKS5zY3JvbGwoewogICAgICBkZWNlbGVyYXRpb246IDAuMDAwNSAvL2ZsaWNrIOWHj+mAn+ezu+aVsO+8jOezu+aVsOi2iuWkp++8jOa7muWKqOmAn+W6pui2iuaFou+8jOa7muWKqOi3neemu+i2iuWwj++8jOm7mOiupOWAvDAuMDAwNgoKICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["myPost.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmGA,SAAA,KAAA,QAAA,SAAA;AACA,OAAA,OAAA,IACA,cADA,EAEA,aAFA,EAGA,gBAHA,QAIA,oBAJA;AAKA,OAAA,GAAA,MAAA,wBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA;AAFA,KAAA;AAIA,GANA;AAOA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,yBACA,OADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,cAAA,GAFA,GAEA;AACA,gBAAA,OAAA,EAAA;AADA,eAFA;AAAA;AAAA,8CAKA,OAAA,CAAA,MAAA,EAAA,gBAAA,EAAA,GAAA,CALA;;AAAA;AAKA,cAAA,MALA;;AAAA,oBAMA,MAAA,CAAA,IAAA,CAAA,IAAA,IAAA,GANA;AAAA;AAAA;AAAA;;AAOA,cAAA,KAAA,CAAA,OAAA,CAAA;AACA,cAAA,GARA,GAQA;AACA,gBAAA,MAAA,EAAA,KAAA,IAAA,CAAA;AADA,eARA;AAAA;AAAA,8CAWA,OAAA,CAAA,MAAA,EAAA,cAAA,EAAA,GAAA,CAXA;;AAAA;AAWA,cAAA,OAXA;;AAYA,kBAAA,OAAA,CAAA,IAAA,CAAA,IAAA,IAAA,GAAA,EAAA;AACA,qBAAA,MAAA,GAAA,OAAA,CAAA,IAAA,CAAA,MAAA;AACA;;AAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAPA;AAyBA,EAAA,OAzBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CA0BA,OAAA,CAAA,KAAA,EAAA,aAAA,CA1BA;;AAAA;AA0BA,YAAA,OA1BA;;AAAA,iBA2BA,OAAA,CAAA,IAAA,CAAA,IA3BA;AAAA;AAAA;AAAA;;AA4BA,iBAAA,IAAA,GAAA,OAAA,CAAA,IAAA,CAAA,IAAA;AACA,YAAA,GA7BA,GA6BA;AACA,cAAA,MAAA,EAAA,KAAA,IAAA,CAAA;AADA,aA7BA;AAAA;AAAA,4CAgCA,OAAA,CAAA,MAAA,EAAA,cAAA,EAAA,GAAA,CAhCA;;AAAA;AAgCA,YAAA,OAhCA;;AAiCA,gBAAA,OAAA,CAAA,IAAA,CAAA,IAAA,IAAA,GAAA,EAAA;AACA,mBAAA,MAAA,GAAA,OAAA,CAAA,IAAA,CAAA,MAAA;AACA;;AAnCA;AAAA;;AAAA;AAqCA,iBAAA,OAAA,CAAA,IAAA,CAAA,KAAA;;AArCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwCA,EAAA,OAxCA,qBAwCA;AACA,QAAA,YAAA,GAAA,QAAA,CAAA,sBAAA,CAAA,mBAAA,EAAA,CAAA,CAAA;AACA,IAAA,YAAA,CAAA,SAAA,GAAA,MAAA;AACA,IAAA,GAAA,CAAA,qBAAA,CAAA,CAAA,MAAA,CAAA;AACA,MAAA,YAAA,EAAA,MADA,CACA;;AADA,KAAA;AAGA;AA9CA,CAAA","sourcesContent":["<template>\n  <div>\n    <div class=\"topics_content\">\n      <div class=\"mui-scroll-wrapper mui-scroll_content\">\n        <div class=\"mui-scroll\">\n          <ul class=\"topics_content_ul\">\n            <li v-for=\"item in topics\" :key=\"item._id\">\n              <div class=\"topic_left\">\n                <img :src=\"'http://localhost:9000'+item.img\" alt />\n              </div>\n              <router-link :to=\"'/topic/detail/'+item._id\" tag=\"span\">\n                <div class=\"topic_right\">\n                  <div class=\"topic_poster_nickname\">\n                    {{item.nickname}}\n                    <div\n                      class=\"mui-icon mui-icon-closeempty\"\n                      @click.prevent=\"deleteMyTopic(item._id)\"\n                    ></div>\n                  </div>\n                  <div class=\"topic_title\">{{item.title}}</div>\n                  <div class=\"topic_createdtime\">{{item.created_time | dateFormat}}</div>\n                </div>\n              </router-link>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"less\" scoped>\n.topics_content {\n  width: 100%;\n  .topics_content_ul {\n    padding: 0;\n    list-style: none;\n    width: 100%;\n    position: relative;\n    li {\n      margin-top: 5px;\n      width: 100%;\n      height: 80px;\n      .topic_left {\n        float: left;\n        width: 20%;\n        height: 100%;\n        position: relative;\n        img {\n          width: 80%;\n          height: 80%;\n          position: absolute;\n          left: 50%;\n          top: 50%;\n          transform: translate(-50%, -50%);\n        }\n      }\n      .topic_right {\n        float: left;\n        width: 80%;\n        height: 100%;\n        .topic_title {\n          width: 100%;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n          height: 40px;\n          line-height: 40px;\n          font-size: 18px;\n        }\n        .topic_poster_nickname {\n          float: left;\n          width: 100%;\n          height: 20px;\n          line-height: 20px;\n          color: #333;\n          font-size: 14px;\n          overflow: hidden;\n          .mui-icon-closeempty {\n            float: right;\n          }\n        }\n        .topic_createdtime {\n          width: 100%;\n          line-height: 20px;\n          font-size: 10px;\n          color: gray;\n        }\n      }\n    }\n  }\n}\n.mui-scroll_content {\n  top: 40px;\n  bottom: 54px;\n}\n</style>\n\n<script>\nimport { Toast } from \"mint-ui\";\nimport myaxios, {\n  getMyTopicsURL,\n  getsessionURL,\n  deleteMyTopicURL\n} from \"@/tools/myaxios.js\";\nimport mui from \"@/../lib/mui/js/mui.js\";\nexport default {\n  data: function() {\n    return {\n      topics: \"\",\n      user: \"\"\n    };\n  },\n  methods: {\n    async deleteMyTopic(topicID) {\n      var obj = {\n        topicID: topicID\n      };\n      let result = await myaxios(\"POST\", deleteMyTopicURL, obj);\n      if (result.data.code == 101) {\n        Toast(\"删除成功！\");\n        var obj = {\n          userID: this.user._id\n        };\n        let result2 = await myaxios(\"POST\", getMyTopicsURL, obj);\n        if (result2.data.code == 101) {\n          this.topics = result2.data.topics;\n        }\n      }\n    }\n  },\n  async created() {\n    let result1 = await myaxios(\"GET\", getsessionURL);\n    if (result1.data.user) {\n      this.user = result1.data.user;\n      var obj = {\n        userID: this.user._id\n      };\n      let result2 = await myaxios(\"POST\", getMyTopicsURL, obj);\n      if (result2.data.code == 101) {\n        this.topics = result2.data.topics;\n      }\n    } else {\n      this.$router.push(\"/my\");\n    }\n  },\n  mounted() {\n    var header_title = document.getElementsByClassName(\"mint-header-title\")[0];\n    header_title.innerText = \"我的帖子\"\n    mui(\".mui-scroll-wrapper\").scroll({\n      deceleration: 0.0005 //flick 减速系数，系数越大，滚动速度越慢，滚动距离越小，默认值0.0006\n    });\n  }\n};\n</script>"],"sourceRoot":"src/views/my_components"}]}