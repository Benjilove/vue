{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\Supra 2\\Supra-forum\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\Supra 2\\Supra-forum\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\Supra 2\\Supra-forum\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\Supra 2\\Supra-forum\\src\\views\\my_components\\modifyPassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\Supra 2\\Supra-forum\\src\\views\\my_components\\modifyPassword.vue","mtime":1575019630000},{"path":"C:\\Users\\Administrator\\Desktop\\Supra 2\\Supra-forum\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\Supra 2\\Supra-forum\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\Supra 2\\Supra-forum\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\Supra 2\\Supra-forum\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgVG9hc3QgfSBmcm9tICJtaW50LXVpIjsKaW1wb3J0IG15YXhpb3MsIHsgZ2V0c2Vzc2lvblVSTCwgbW9kaWZ5UGFzc3dvcmRVUkwgfSBmcm9tICJAL3Rvb2xzL215YXhpb3MuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXI6ICIiCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgbW9kaWZ5UHN3OiBmdW5jdGlvbiBtb2RpZnlQc3coKSB7CiAgICAgIHZhciBvbGRwYXNzd29yZCwgbmV3cGFzc3dvcmQsIHJlbmV3cGFzc3dvcmQsIG9iaiwgcmVzdWx0OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIG1vZGlmeVBzdyQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgb2xkcGFzc3dvcmQgPSB0aGlzLiRyZWZzLm9sZHBhc3N3b3JkLnZhbHVlOwogICAgICAgICAgICAgIG5ld3Bhc3N3b3JkID0gdGhpcy4kcmVmcy5uZXdwYXNzd29yZC52YWx1ZTsKICAgICAgICAgICAgICByZW5ld3Bhc3N3b3JkID0gdGhpcy4kcmVmcy5yZW5ld3Bhc3N3b3JkLnZhbHVlOwogICAgICAgICAgICAgIG9iaiA9IHsKICAgICAgICAgICAgICAgIG9sZHBhc3N3b3JkOiBvbGRwYXNzd29yZCwKICAgICAgICAgICAgICAgIG5ld3Bhc3N3b3JkOiBuZXdwYXNzd29yZCwKICAgICAgICAgICAgICAgIHJlbmV3cGFzc3dvcmQ6IHJlbmV3cGFzc3dvcmQKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAobXlheGlvcygiUE9TVCIsIG1vZGlmeVBhc3N3b3JkVVJMLCBvYmopKTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBpZiAocmVzdWx0LmRhdGEuY29kZSA9PSAxMDEpIHsKICAgICAgICAgICAgICAgIFRvYXN0KHJlc3VsdC5kYXRhLm1zZyk7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL215Iik7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIFRvYXN0KHJlc3VsdC5kYXRhLm1zZyk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBudWxsLCB0aGlzKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgcmVzdWx0MTsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gY3JlYXRlZCQoX2NvbnRleHQyKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChteWF4aW9zKCJHRVQiLCBnZXRzZXNzaW9uVVJMKSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXN1bHQxID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICBpZiAocmVzdWx0MS5kYXRhLnVzZXIpIHsKICAgICAgICAgICAgICB0aGlzLnVzZXIgPSByZXN1bHQxLmRhdGEudXNlcjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2xvZ2luIik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIG51bGwsIHRoaXMpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBoZWFkZXJfdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJtaW50LWhlYWRlci10aXRsZSIpWzBdOwogICAgaGVhZGVyX3RpdGxlLmlubmVyVGV4dCA9ICLkv67mlLnlr4bnoIEiOwogIH0KfTs="},{"version":3,"sources":["modifyPassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA,SAAA,KAAA,QAAA,SAAA;AACA,OAAA,OAAA,IACA,aADA,EAEA,iBAFA,QAGA,oBAHA;AAIA,eAAA;AACA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AADA,KAAA;AAGA,GALA;AAMA,EAAA,OAAA,EAAA;AACA,IAAA,SADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,cAAA,WAFA,GAEA,KAAA,KAAA,CAAA,WAAA,CAAA,KAFA;AAGA,cAAA,WAHA,GAGA,KAAA,KAAA,CAAA,WAAA,CAAA,KAHA;AAIA,cAAA,aAJA,GAIA,KAAA,KAAA,CAAA,aAAA,CAAA,KAJA;AAKA,cAAA,GALA,GAKA;AACA,gBAAA,WAAA,EAAA,WADA;AAEA,gBAAA,WAAA,EAAA,WAFA;AAGA,gBAAA,aAAA,EAAA;AAHA,eALA;AAAA;AAAA,8CAUA,OAAA,CAAA,MAAA,EAAA,iBAAA,EAAA,GAAA,CAVA;;AAAA;AAUA,cAAA,MAVA;;AAWA,kBAAA,MAAA,CAAA,IAAA,CAAA,IAAA,IAAA,GAAA,EAAA;AACA,gBAAA,KAAA,CAAA,MAAA,CAAA,IAAA,CAAA,GAAA,CAAA;AACA,qBAAA,OAAA,CAAA,IAAA,CAAA,KAAA;AACA,eAHA,MAIA;AACA,gBAAA,KAAA,CAAA,MAAA,CAAA,IAAA,CAAA,GAAA,CAAA;AACA;;AAjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GANA;AA0BA,EAAA,OA1BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CA2BA,OAAA,CAAA,KAAA,EAAA,aAAA,CA3BA;;AAAA;AA2BA,YAAA,OA3BA;;AA4BA,gBAAA,OAAA,CAAA,IAAA,CAAA,IAAA,EAAA;AACA,mBAAA,IAAA,GAAA,OAAA,CAAA,IAAA,CAAA,IAAA;AACA,aAFA,MAEA;AACA,mBAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA;;AAhCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkCA,EAAA,OAlCA,qBAkCA;AACA,QAAA,YAAA,GAAA,QAAA,CAAA,sBAAA,CAAA,mBAAA,EAAA,CAAA,CAAA;AACA,IAAA,YAAA,CAAA,SAAA,GAAA,MAAA;AACA;AArCA,CAAA","sourcesContent":["<template>\n  <div>\n    <div class=\"modifyPassword_item\">\n      <label for>原密码：</label>\n      <input type=\"text\" placeholder=\"请输入原密码：\" ref=\"oldpassword\"/>\n    </div>\n    <div class=\"modifyPassword_item\">\n      <label for>新密码：</label>\n      <input type=\"text\" placeholder=\"请输入密码：\" ref=\"newpassword\"/>\n    </div>\n    <div class=\"modifyPassword_item\">\n      <label for>确认密码：</label>\n      <input type=\"text\" placeholder=\"请输入密码：\" ref=\"renewpassword\"/>\n    </div>\n    <button class=\"modify_btn\" @click=\"modifyPsw\">修改密码</button>\n  </div>\n</template>\n\n<style lang=\"less\" scoped>\n.modifyPassword_item {\n  width: 100%;\n  height: 80px;\n  margin-top: 5px;\n}\n.modify_btn {\n  width: 100%;\n  height: 50px;\n  background: red;\n  color: white;\n  font-size: 20px;\n  border-radius: 20px;\n}\n</style>\n\n<script>\nimport { Toast } from \"mint-ui\";\nimport myaxios, {\n  getsessionURL,\n  modifyPasswordURL\n} from \"@/tools/myaxios.js\";\nexport default {\n  data: function() {\n    return {\n      user: \"\"\n    };\n  },\n  methods: {\n      async modifyPsw(){\n          var oldpassword = this.$refs.oldpassword.value;\n          var newpassword = this.$refs.newpassword.value;\n          var renewpassword = this.$refs.renewpassword.value;\n          var obj = {\n              oldpassword:oldpassword,\n              newpassword:newpassword,\n              renewpassword:renewpassword\n          }\n          let result = await myaxios(\"POST\",modifyPasswordURL,obj)\n          if(result.data.code == 101){\n            Toast(result.data.msg)\n            this.$router.push(\"/my\");\n          }\n          else{\n            Toast(result.data.msg)\n          }\n      }\n  },\n  async created() {\n    let result1 = await myaxios(\"GET\", getsessionURL);\n    if (result1.data.user) {\n      this.user = result1.data.user;\n    } else {\n      this.$router.push(\"/login\");\n    }\n  },\n  mounted() {\n    var header_title = document.getElementsByClassName(\"mint-header-title\")[0];\n    header_title.innerText = \"修改密码\"\n  }\n};\n</script>"],"sourceRoot":"src/views/my_components"}]}