{"remainingRequest":"/Users/a123/Desktop/Supra-forum/node_modules/thread-loader/dist/cjs.js!/Users/a123/Desktop/Supra-forum/node_modules/babel-loader/lib/index.js!/Users/a123/Desktop/Supra-forum/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/a123/Desktop/Supra-forum/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/a123/Desktop/Supra-forum/src/views/my_components/myComment.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/a123/Desktop/Supra-forum/src/views/my_components/myComment.vue","mtime":1581935982000},{"path":"/Users/a123/Desktop/Supra-forum/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/a123/Desktop/Supra-forum/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/a123/Desktop/Supra-forum/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/a123/Desktop/Supra-forum/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/a123/Desktop/Supra-forum/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgVG9hc3QgfSBmcm9tICJtaW50LXVpIjsKaW1wb3J0IG15YXhpb3MsIHsgZ2V0c2Vzc2lvblVSTCwgZ2V0TXlDb21tZW50VVJMLCBkZWxldGVNeUNvbW1lbnRVUkwgfSBmcm9tICJAL3Rvb2xzL215YXhpb3MuanMiOwppbXBvcnQgbXVpIGZyb20gIkAvLi4vbGliL211aS9qcy9tdWkuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXI6ICIiLAogICAgICBjb21tZW50czogIiIKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBkZWxldGVNeUNvbW1lbnQ6IGZ1bmN0aW9uIGRlbGV0ZU15Q29tbWVudChjb21tZW50X2lkKSB7CiAgICAgIHZhciBjb21tZW50SUQsIG9iajEsIHJlc3VsdCwgb2JqMiwgcmVzdWx0MjsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBkZWxldGVNeUNvbW1lbnQkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1lbnRJRCA9IGNvbW1lbnRfaWQ7CiAgICAgICAgICAgICAgb2JqMSA9IHsKICAgICAgICAgICAgICAgIGNvbW1lbnRJRDogY29tbWVudElECiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKG15YXhpb3MoIlBPU1QiLCBkZWxldGVNeUNvbW1lbnRVUkwsIG9iajEpKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBpZiAoIShyZXN1bHQuZGF0YS5jb2RlID09IDEwMSkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgVG9hc3QoIuWIoOmZpOaIkOWKn++8gSIpOwogICAgICAgICAgICAgIG9iajIgPSB7CiAgICAgICAgICAgICAgICB1c2VySUQ6IHRoaXMudXNlci5faWQKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKG15YXhpb3MoIlBPU1QiLCBnZXRNeUNvbW1lbnRVUkwsIG9iajIpKTsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgcmVzdWx0MiA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgdGhpcy5jb21tZW50cyA9IHJlc3VsdDIuZGF0YS5jb21tZW50czsKCiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIG51bGwsIHRoaXMpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciByZXN1bHQxLCBvYmosIHJlc3VsdDI7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIGNyZWF0ZWQkKF9jb250ZXh0MikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAobXlheGlvcygiR0VUIiwgZ2V0c2Vzc2lvblVSTCkpOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmVzdWx0MSA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgaWYgKCFyZXN1bHQxLmRhdGEudXNlcikgewogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRoaXMudXNlciA9IHJlc3VsdDEuZGF0YS51c2VyOwogICAgICAgICAgICBvYmogPSB7CiAgICAgICAgICAgICAgdXNlcklEOiB0aGlzLnVzZXIuX2lkCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChteWF4aW9zKCJQT1NUIiwgZ2V0TXlDb21tZW50VVJMLCBvYmopKTsKCiAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIHJlc3VsdDIgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgdGhpcy5jb21tZW50cyA9IHJlc3VsdDIuZGF0YS5jb21tZW50czsKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMzsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9teSIpOwoKICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIG51bGwsIHRoaXMpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBoZWFkZXJfdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJtaW50LWhlYWRlci10aXRsZSIpWzBdOwogICAgaGVhZGVyX3RpdGxlLmlubmVyVGV4dCA9ICLmiJHnmoTor4TorroiOwogICAgbXVpKCIubXVpLXNjcm9sbC13cmFwcGVyIikuc2Nyb2xsKHsKICAgICAgZGVjZWxlcmF0aW9uOiAwLjAwMDUgLy9mbGljayDlh4/pgJ/ns7vmlbDvvIzns7vmlbDotorlpKfvvIzmu5rliqjpgJ/luqbotormhaLvvIzmu5rliqjot53nprvotorlsI/vvIzpu5jorqTlgLwwLjAwMDYKCiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["myComment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA,SAAA,KAAA,QAAA,SAAA;AACA,OAAA,OAAA,IACA,aADA,EAEA,eAFA,EAGA,kBAHA,QAIA,oBAJA;AAKA,OAAA,GAAA,MAAA,wBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAAA;AAIA,GANA;AAOA,EAAA,OAAA,EAAA;AACA,IAAA,eADA,2BACA,UADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,cAAA,SAFA,GAEA,UAFA;AAGA,cAAA,IAHA,GAGA;AACA,gBAAA,SAAA,EAAA;AADA,eAHA;AAAA;AAAA,8CAMA,OAAA,CAAA,MAAA,EAAA,kBAAA,EAAA,IAAA,CANA;;AAAA;AAMA,cAAA,MANA;;AAAA,oBAOA,MAAA,CAAA,IAAA,CAAA,IAAA,IAAA,GAPA;AAAA;AAAA;AAAA;;AAQA,cAAA,KAAA,CAAA,OAAA,CAAA;AACA,cAAA,IATA,GASA;AACA,gBAAA,MAAA,EAAA,KAAA,IAAA,CAAA;AADA,eATA;AAAA;AAAA,8CAYA,OAAA,CAAA,MAAA,EAAA,eAAA,EAAA,IAAA,CAZA;;AAAA;AAYA,cAAA,OAZA;AAaA,mBAAA,QAAA,GAAA,OAAA,CAAA,IAAA,CAAA,QAAA;;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAPA;AAwBA,EAAA,OAxBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAyBA,OAAA,CAAA,KAAA,EAAA,aAAA,CAzBA;;AAAA;AAyBA,YAAA,OAzBA;;AAAA,iBA0BA,OAAA,CAAA,IAAA,CAAA,IA1BA;AAAA;AAAA;AAAA;;AA2BA,iBAAA,IAAA,GAAA,OAAA,CAAA,IAAA,CAAA,IAAA;AACA,YAAA,GA5BA,GA4BA;AACA,cAAA,MAAA,EAAA,KAAA,IAAA,CAAA;AADA,aA5BA;AAAA;AAAA,4CA+BA,OAAA,CAAA,MAAA,EAAA,eAAA,EAAA,GAAA,CA/BA;;AAAA;AA+BA,YAAA,OA/BA;AAgCA,iBAAA,QAAA,GAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AAhCA;AAAA;;AAAA;AAmCA,iBAAA,OAAA,CAAA,IAAA,CAAA,KAAA;;AAnCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsCA,EAAA,OAtCA,qBAsCA;AACA,QAAA,YAAA,GAAA,QAAA,CAAA,sBAAA,CAAA,mBAAA,EAAA,CAAA,CAAA;AACA,IAAA,YAAA,CAAA,SAAA,GAAA,MAAA;AACA,IAAA,GAAA,CAAA,qBAAA,CAAA,CAAA,MAAA,CAAA;AACA,MAAA,YAAA,EAAA,MADA,CACA;;AADA,KAAA;AAGA;AA5CA,CAAA","sourcesContent":["<template>\n  <div>\n    <div class=\"topics_content\">\n      <div class=\"mui-scroll-wrapper mui-scroll_content\">\n        <div class=\"mui-scroll\">\n          <div class=\"comment_content\" v-for=\"comment in comments\" :key=\"comment._id\">\n            <div class=\"commenter_avatar\">\n              <img :src=\"'http://49.234.217.92:9000'+comment.conmmenter_avatar\" alt />\n            </div>\n            <div class=\"commenter_right\">\n              <div class=\"commenter_nickname\">\n                {{comment.comment_nickname}}\n                <div\n                  class=\"mui-icon mui-icon-closeempty\"\n                  @click.prevent=\"deleteMyComment(comment._id)\"\n                ></div>\n              </div>\n              <div class=\"commenter_content\">{{comment.comment_content}}</div>\n              <div class=\"commenter_creatertime\">{{comment.created_time | dateFormat }}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<style lang=\"less\" scoped>\n.comment_content {\n  width: 100%;\n  height: 80px;\n  margin-top: 5px;\n  .commenter_avatar {\n    float: left;\n    width: 20%;\n    height: 100%;\n    position: relative;\n    img {\n      width: 80%;\n      height: 80%;\n      border-radius: 50%;\n      position: absolute;\n      left: 50%;\n      top: 50%;\n      transform: translate(-50%, -50%);\n    }\n  }\n  .commenter_right {\n    float: left;\n    width: 80%;\n    height: 100%;\n    .commenter_content {\n      width: 100%;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      height: 40px;\n      line-height: 40px;\n      font-size: 18px;\n    }\n    .commenter_nickname {\n      float: left;\n      width: 100%;\n      height: 20px;\n      line-height: 20px;\n      color: #333;\n      font-size: 16px;\n      overflow: hidden;\n      .mui-icon-closeempty {\n        float: right;\n      }\n    }\n    .commenter_creatertime {\n      width: 100%;\n      line-height: 20px;\n      font-size: 10px;\n      color: gray;\n    }\n  }\n}\n.mui-scroll_content {\n  top: 40px;\n  bottom: 54px;\n}\n</style>\n\n<script>\nimport { Toast } from \"mint-ui\";\nimport myaxios, {\n  getsessionURL,\n  getMyCommentURL,\n  deleteMyCommentURL\n} from \"@/tools/myaxios.js\";\nimport mui from \"@/../lib/mui/js/mui.js\";\nexport default {\n  data: function() {\n    return {\n      user: \"\",\n      comments: \"\"\n    };\n  },\n  methods: {\n    async deleteMyComment(comment_id) {\n      var commentID = comment_id;\n      var obj1 = {\n        commentID: commentID\n      };\n      let result = await myaxios(\"POST\", deleteMyCommentURL, obj1);\n      if (result.data.code == 101) {\n        Toast(\"删除成功！\");\n        var obj2 = {\n          userID: this.user._id\n        };\n        let result2 = await myaxios(\"POST\", getMyCommentURL, obj2);\n        this.comments = result2.data.comments;\n      }\n    }\n  },\n  async created() {\n    let result1 = await myaxios(\"GET\", getsessionURL);\n    if (result1.data.user) {\n      this.user = result1.data.user;\n      var obj = {\n        userID: this.user._id\n      };\n      let result2 = await myaxios(\"POST\", getMyCommentURL, obj);\n      this.comments = result2.data.comments;\n    }\n    else{\n        this.$router.push(\"/my\");\n    }\n  },\n  mounted() {\n    var header_title = document.getElementsByClassName(\"mint-header-title\")[0];\n    header_title.innerText = \"我的评论\"\n    mui(\".mui-scroll-wrapper\").scroll({\n      deceleration: 0.0005 //flick 减速系数，系数越大，滚动速度越慢，滚动距离越小，默认值0.0006\n    });\n  }\n};\n</script>"],"sourceRoot":"src/views/my_components"}]}