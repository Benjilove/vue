{"remainingRequest":"/Users/a123/Desktop/Supra 2/Supra-forum/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/a123/Desktop/Supra 2/Supra-forum/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/a123/Desktop/Supra 2/Supra-forum/src/views/Home.vue","mtime":1582368015135},{"path":"/Users/a123/Desktop/Supra 2/Supra-forum/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/a123/Desktop/Supra 2/Supra-forum/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/a123/Desktop/Supra 2/Supra-forum/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/a123/Desktop/Supra 2/Supra-forum/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IFRvYXN0IH0gZnJvbSAibWludC11aSI7CmltcG9ydCBteWF4aW9zLCB7CiAgZ2V0dG9waWNBbGxVUkwsCiAgZ2V0dG9waWNCeVBsYXRlLAogIGdldHNlc3Npb25VUkwsCiAgYWRkQ29sbGVjdGlvblVSTAp9IGZyb20gIkAvdG9vbHMvbXlheGlvcy5qcyI7CmltcG9ydCBtdWkgZnJvbSAiQC8uLi9saWIvbXVpL2pzL211aS5qcyI7CmltcG9ydCB7IGNyZWF0ZSB9IGZyb20gImRvbWFpbiI7CgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gewogICAgICB0b3BpY3M6ICIiLAogICAgICBpbWdBcnI6ICIiLAogICAgICBpc0xvYWRpbmc6IGZhbHNlLAogICAgICBwbGF0ZTogIuWFqOmDqCIKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBvblJlZnJlc2goKSB7CiAgICAgIGlmICh0aGlzLnBsYXRlID09ICLlhajpg6giKSB7CiAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IG15YXhpb3MoIkdFVCIsIGdldHRvcGljQWxsVVJMKTsKICAgICAgICBpZiAocmVzdWx0LmRhdGEuY29kZSA9PSAxMDEpIHsKICAgICAgICAgIHRoaXMudG9waWNzID0gcmVzdWx0LmRhdGEudG9waWNzOwogICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgVG9hc3QoIuivt+axguWksei0peivt+mHjeivle+8gSIpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBsZXQgcmVzdWx0MiA9IGF3YWl0IG15YXhpb3MoIlBPU1QiLCBnZXR0b3BpY0J5UGxhdGUsIHsKICAgICAgICAgIHBsYXRlOiB0aGlzLnBsYXRlCiAgICAgICAgfSk7CiAgICAgICAgaWYgKHJlc3VsdDIuZGF0YS5jb2RlID09IDEwMSkgewogICAgICAgICAgdGhpcy50b3BpY3MgPSByZXN1bHQyLmRhdGEudG9waWNzOwogICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgVG9hc3QoIuivt+axguWksei0peivt+mHjeivle+8gSIpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGFzeW5jIGNvbGxlY3Rpb24odG9waWMpIHsKICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IG15YXhpb3MoIkdFVCIsIGdldHNlc3Npb25VUkwpOwogICAgICBpZiAocmVzdWx0LmRhdGEudXNlcikgewogICAgICAgIHRoaXMudXNlciA9IHJlc3VsdC5kYXRhLnVzZXI7CiAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgIHRvcGljX2lkOiB0b3BpYy5faWQsCiAgICAgICAgICBjb2xsZWN0b3JfaWQ6IHRoaXMudXNlci5faWQsCiAgICAgICAgICBjb2xsZWN0b3JfYXZhdGFyOiB0aGlzLnVzZXIuYXZhdGFyLAogICAgICAgICAgY29sbGVjdG9yX25pY2tuYW1lOiB0aGlzLnVzZXIubmlja25hbWUsCiAgICAgICAgICBwb3N0ZXJfbmlja25hbWU6IHRvcGljLm5pY2tuYW1lLAogICAgICAgICAgdG9waWNfdGl0bGU6IHRvcGljLnRpdGxlLAogICAgICAgICAgdG9waWNfY29udGVudDogdG9waWMuY29udGVudCwKICAgICAgICAgIHBvc3Rlcl9hdmF0YXI6IHRvcGljLmljb24sCiAgICAgICAgICB0b3BpY19jcmVhdGVkVGltZTogdG9waWMuY3JlYXRlZF90aW1lCiAgICAgICAgfTsKICAgICAgICBsZXQgcmVzdWx0MiA9IGF3YWl0IG15YXhpb3MoIlBPU1QiLCBhZGRDb2xsZWN0aW9uVVJMLCBvYmopOwogICAgICAgIGlmIChyZXN1bHQyLmRhdGEuY29kZSA9PSAxMDEpIHsKICAgICAgICAgIFRvYXN0KHJlc3VsdDIuZGF0YS5tZXNzYWdlKTsKICAgICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBteWF4aW9zKCJHRVQiLCBnZXR0b3BpY0FsbFVSTCk7CiAgICAgICAgICBpZiAocmVzdWx0LmRhdGEuY29kZSA9PSAxMDEpIHsKICAgICAgICAgICAgdGhpcy50b3BpY3MgPSByZXN1bHQuZGF0YS50b3BpY3M7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQyLmRhdGEuY29kZSA9PSAxMDApIHsKICAgICAgICAgIFRvYXN0KHJlc3VsdDIuZGF0YS5tZXNzYWdlKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9sb2dpbiIpOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgZ2V0VG9waWNBbGwoZSkgewogICAgICB0aGlzLnBsYXRlID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpOwogICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgbXlheGlvcygiR0VUIiwgZ2V0dG9waWNBbGxVUkwpOwogICAgICBpZiAocmVzdWx0LmRhdGEuY29kZSA9PSAxMDEpIHsKICAgICAgICB0aGlzLnRvcGljcyA9IHJlc3VsdC5kYXRhLnRvcGljczsKICAgICAgfSBlbHNlIHsKICAgICAgICBUb2FzdCgi6K+35rGC5aSx6LSl6K+36YeN6K+V77yBIik7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBnZXRUb3BpY0J5UGxhdGUoZSkgewogICAgICB0aGlzLnBsYXRlID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpOwogICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgbXlheGlvcygiUE9TVCIsIGdldHRvcGljQnlQbGF0ZSwgewogICAgICAgIHBsYXRlOiB0aGlzLnBsYXRlCiAgICAgIH0pOwogICAgICB0aGlzLnRvcGljcyA9IHJlc3VsdC5kYXRhLnRvcGljczsKICAgIH0KICB9LAogIGFzeW5jIGNyZWF0ZWQoKSB7CiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgbXlheGlvcygiR0VUIiwgZ2V0dG9waWNBbGxVUkwpOwogICAgaWYgKHJlc3VsdC5kYXRhLmNvZGUgPT0gMTAxKSB7CiAgICAgIHRoaXMudG9waWNzID0gcmVzdWx0LmRhdGEudG9waWNzOwogICAgfQogIH0sCgogIG1vdW50ZWQoKSB7CiAgICB2YXIgaGVhZGVyX3RpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgibWludC1oZWFkZXItdGl0bGUiKVswXTsKICAgIGhlYWRlcl90aXRsZS5pbm5lclRleHQgPSAi6aaW6aG1IjsKICAgIG11aSgiLm11aS1zY3JvbGwtd3JhcHBlciIpLnNjcm9sbCh7CiAgICAgIGRlY2VsZXJhdGlvbjogMC4wMDA1IC8vZmxpY2sg5YeP6YCf57O75pWw77yM57O75pWw6LaK5aSn77yM5rua5Yqo6YCf5bqm6LaK5oWi77yM5rua5Yqo6Led56a76LaK5bCP77yM6buY6K6k5YC8MC4wMDA2CiAgICB9KTsKICB9Cn07Cg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"mainhome\">\n    <div class=\"nav\">\n      <div\n        id=\"sliderSegmentedControl\"\n        class=\"mui-scroll-wrapper mui-slider-indicator mui-segmented-control mui-segmented-control-inverted\"\n      >\n        <div class=\"mui-scroll\">\n          <a class=\"mui-control-item mui-active\" @click=\"getTopicAll\" :value=\"'全部'\">全部</a>\n          <a class=\"mui-control-item\" @click=\"getTopicByPlate\" :value=\"'travel'\">旅游</a>\n          <a class=\"mui-control-item\" @click=\"getTopicByPlate\" :value=\"'game'\">游戏</a>\n          <a class=\"mui-control-item\" @click=\"getTopicByPlate\" :value=\"'movie'\">电影</a>\n          <a class=\"mui-control-item\" @click=\"getTopicByPlate\" :value=\"'music'\">音乐</a>\n          <a class=\"mui-control-item\" @click=\"getTopicByPlate\" :value=\"'funny'\">搞笑</a>\n          <a class=\"mui-control-item\" @click=\"getTopicByPlate\" :value=\"'technology'\">科技</a>\n          <a class=\"mui-control-item\" @click=\"getTopicByPlate\" :value=\"'sports'\">体育</a>\n          <a class=\"mui-control-item\" @click=\"getTopicByPlate\" :value=\"'car'\">汽车</a>\n          <a class=\"mui-control-item\" @click=\"getTopicByPlate\" :value=\"'food'\">美食</a>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"topics_content\">\n      <div class=\"mui-scroll-wrapper mui-scroll_content\">\n        <div class=\"mui-scroll\">\n          <van-pull-refresh v-model=\"isLoading\" success-text=\"刷新成功\" @refresh=\"onRefresh\">\n            <div class=\"list-wrapper\" v-for=\"topics in topics\" :key=\"topics._id\">\n              <div class=\"headnav\">\n                <div class=\"head-icon\">\n                  <img class=\"head-img\" :src=\"'http://localhost:9000'+topics.icon\" />\n                </div>\n                <div class=\"content\">\n                  <div class=\"user-info\">\n                    <div class=\"name\">{{topics.nickname}}</div>\n                    <div class=\"timeAndClickNum\">\n                      <div class=\"time\">{{topics.created_time | dateFormat}}</div>\n                      <div class=\"clickNum\">\n                        <img class=\"img\" src=\"@/assets/icon/阅读量 (1).png\" />\n                        {{topics.clickNum}}\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"Like\">\n                    <img class=\"img\" @click=\"collection(topics)\" src=\"@/assets/icon/收藏.png\" alt />\n                  </div>\n                </div>\n              </div>\n              <router-link :to=\"'/topic/detail/'+topics._id\" tag=\"span\">\n                <div class=\"weibo\">\n                  <p class=\"weiboTxt\" v-html=\"topics.title\">​​​</p>\n                  <div class=\"weiboMedia\">\n                    <div class=\"imgs_content\">\n                      <div\n                        class=\"weiboImg\"\n                        :v-if=\"topics.img_src != ''\"\n                        v-for=\"(item, index) in  topics.img_src \"\n                        :key=\"index\"\n                      >\n                        <img\n                          class=\"txt-img\"\n                          :preview=\"topics._id\"\n                          :preview-text=\"topics.title\"\n                          v-lazy=\"'http://localhost:9000'+item\"\n                          alt\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </router-link>\n              <div class=\"topic_list_footer\">\n                <div class=\"topic_list_footer_list\">\n                  评论\n                  {{topics.commentNum}}\n                </div>\n                <div class=\"topic_list_footer_list\">\n                  收藏\n                  {{topics.likeNum}}\n                </div>\n              </div>\n            </div>\n          </van-pull-refresh>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"less\">\n.mui-icon-plusempty:before {\n  font-size: 25px;\n  font-weight: bold;\n}\n.hide_content {\n  width: 133px;\n  position: absolute;\n  top: 44px;\n  right: 5px;\n  z-index: 1000;\n  background-color: #49484b;\n  ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    li {\n      float: left;\n      width: 100%;\n      height: 40px;\n      label {\n        float: left;\n        height: 40px;\n        line-height: 40px;\n        width: 50px;\n        text-align: center;\n        color: white;\n      }\n      .hide_li_font {\n        float: left;\n        height: 40px;\n        line-height: 40px;\n        width: 80px;\n        color: white;\n      }\n    }\n  }\n}\n.mui-segmented-control {\n  background: white !important;\n}\n.mui-segmented-control.mui-segmented-control-inverted\n  .mui-control-item.mui-active {\n  color: rgb(255, 66, 66) !important;\n  border-bottom: 2px solid rgb(255, 66, 66) !important;\n}\n.topics_content {\n  width: 100%;\n  .mui-scroll_content {\n    top: 78px;\n    bottom: 54px;\n  }\n}\n.list-wrapper {\n  // border: 1px solid rgb(202, 202, 202);\n  background-color: white;\n  border-radius: 10px;\n  box-sizing: border-box;\n  box-shadow: 0px 0px 10px -10px black;\n  margin: 10px;\n  color: #333;\n  overflow: hidden;\n  .headnav {\n    width: 100%;\n    margin: 8px;\n    height: 50px;\n    .head-icon {\n      float: left;\n      height: 40px;\n      width: 40px;\n      margin: 5px;\n      .head-img {\n        height: 100%;\n        width: 100%;\n        border-radius: 50%;\n      }\n    }\n    .content {\n      height: 50px;\n      display: block;\n      width: 280px;\n      float: left;\n      .user-info {\n        float: left;\n        width: 210px;\n        .name {\n          line-height: 25px;\n          margin-left: 6px;\n          font-size: 16px;\n          font-weight: bold;\n        }\n        .timeAndClickNum {\n          height: 25px;\n          width: 210px;\n          line-height: 25px;\n          .time {\n            float: left;\n            margin-left: 6px;\n            font-size: 12px;\n            color: grey;\n          }\n          .clickNum {\n            margin-left: 5px;\n            height: 25px;\n            float: left;\n            line-height: 27px;\n            font-size: 12px;\n            color: grey;\n\n            .img {\n              float: left;\n              width: 24px;\n              height: 24px;\n              margin-bottom: 4px;\n              margin-right: 3px;\n            }\n          }\n        }\n      }\n      .Like {\n        width: 50px;\n        height: 50px;\n        float: right;\n        position: relative;\n        .img {\n          position: absolute;\n          left: 50%;\n          top: 50%;\n          transform: translate(-50%, -50%);\n          width: 30px;\n          height: 30px;\n        }\n      }\n    }\n  }\n\n  .weibo {\n    padding: 8px;\n    overflow: hidden;\n    .weiboTxt {\n      margin-left: 4px;\n      font-size: 18px;\n      line-height: 20px;\n      width: 100%;\n      color: black;\n    }\n    .weiboMedia {\n      overflow: hidden;\n      .imgs_content {\n        width: 100%;\n        overflow: hidden;\n        .weiboImg:nth-last-child(1):first-child {\n          float: left;\n          box-sizing: border-box;\n          overflow: hidden;\n          width: 60%;\n          height: 200px;\n          border-right: 1px solid #fff;\n          border-top: 1px solid #fff;\n          .txt-img {\n            width: 100%;\n            height: 100%;\n          }\n        }\n        .weiboImg:nth-last-child(2):first-child,\n        .weiboImg:nth-last-child(2):first-child ~ .weiboImg {\n          float: left;\n          box-sizing: border-box;\n          overflow: hidden;\n          width: 50%;\n          height: 100px;\n          border-right: 1px solid #fff;\n          border-top: 1px solid #fff;\n          .txt-img {\n            width: 100%;\n            height: 100%;\n          }\n        }\n        .weiboImg:nth-last-child(n + 3):first-child,\n        .weiboImg:nth-last-child(n + 3):first-child ~ .weiboImg {\n          float: left;\n          box-sizing: border-box;\n          overflow: hidden;\n          width: 110px;\n          height: 110px;\n\n          border-right: 1px solid #fff;\n          border-top: 1px solid #fff;\n          .txt-img {\n            width: 100%;\n            height: 100%;\n            margin: 4px;\n          }\n        }\n      }\n    }\n  }\n  .topic_list_footer {\n    float: left;\n    width: 100%;\n    display: flex;\n    .topic_list_footer_list {\n      flex: 1;\n      height: 30px;\n      text-align: center;\n      font-size: 15px;\n      line-height: 30px;\n      color: gray;\n      .img {\n        width: 24px;\n        height: 24px;\n        margin: 3px;\n      }\n    }\n  }\n}\n</style>\n\n<script>\nimport { Toast } from \"mint-ui\";\nimport myaxios, {\n  gettopicAllURL,\n  gettopicByPlate,\n  getsessionURL,\n  addCollectionURL\n} from \"@/tools/myaxios.js\";\nimport mui from \"@/../lib/mui/js/mui.js\";\nimport { create } from \"domain\";\n\nexport default {\n  data: function() {\n    return {\n      topics: \"\",\n      imgArr: \"\",\n      isLoading: false,\n      plate: \"全部\"\n    };\n  },\n  methods: {\n    async onRefresh() {\n      if (this.plate == \"全部\") {\n        let result = await myaxios(\"GET\", gettopicAllURL);\n        if (result.data.code == 101) {\n          this.topics = result.data.topics;\n          this.isLoading = false;\n        } else {\n          Toast(\"请求失败请重试！\");\n        }\n      } else {\n        let result2 = await myaxios(\"POST\", gettopicByPlate, {\n          plate: this.plate\n        });\n        if (result2.data.code == 101) {\n          this.topics = result2.data.topics;\n          this.isLoading = false;\n        } else {\n          Toast(\"请求失败请重试！\");\n        }\n      }\n    },\n    async collection(topic) {\n      let result = await myaxios(\"GET\", getsessionURL);\n      if (result.data.user) {\n        this.user = result.data.user;\n        var obj = {\n          topic_id: topic._id,\n          collector_id: this.user._id,\n          collector_avatar: this.user.avatar,\n          collector_nickname: this.user.nickname,\n          poster_nickname: topic.nickname,\n          topic_title: topic.title,\n          topic_content: topic.content,\n          poster_avatar: topic.icon,\n          topic_createdTime: topic.created_time\n        };\n        let result2 = await myaxios(\"POST\", addCollectionURL, obj);\n        if (result2.data.code == 101) {\n          Toast(result2.data.message);\n          let result = await myaxios(\"GET\", gettopicAllURL);\n          if (result.data.code == 101) {\n            this.topics = result.data.topics;\n          }\n        } else if (result2.data.code == 100) {\n          Toast(result2.data.message);\n        }\n      } else {\n        this.$router.push(\"/login\");\n      }\n    },\n    async getTopicAll(e) {\n      this.plate = e.target.getAttribute(\"value\");\n      let result = await myaxios(\"GET\", gettopicAllURL);\n      if (result.data.code == 101) {\n        this.topics = result.data.topics;\n      } else {\n        Toast(\"请求失败请重试！\");\n      }\n    },\n    async getTopicByPlate(e) {\n      this.plate = e.target.getAttribute(\"value\");\n      let result = await myaxios(\"POST\", gettopicByPlate, {\n        plate: this.plate\n      });\n      this.topics = result.data.topics;\n    }\n  },\n  async created() {\n    let result = await myaxios(\"GET\", gettopicAllURL);\n    if (result.data.code == 101) {\n      this.topics = result.data.topics;\n    }\n  },\n\n  mounted() {\n    var header_title = document.getElementsByClassName(\"mint-header-title\")[0];\n    header_title.innerText = \"首页\";\n    mui(\".mui-scroll-wrapper\").scroll({\n      deceleration: 0.0005 //flick 减速系数，系数越大，滚动速度越慢，滚动距离越小，默认值0.0006\n    });\n  }\n};\n</script>\n"]}]}