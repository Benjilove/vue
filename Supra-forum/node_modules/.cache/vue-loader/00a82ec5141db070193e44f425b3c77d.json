{"remainingRequest":"/Users/a123/Desktop/Supra 2/Supra-forum/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/a123/Desktop/Supra 2/Supra-forum/src/views/my_components/modifyPassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/a123/Desktop/Supra 2/Supra-forum/src/views/my_components/modifyPassword.vue","mtime":1575019630000},{"path":"/Users/a123/Desktop/Supra 2/Supra-forum/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/a123/Desktop/Supra 2/Supra-forum/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/a123/Desktop/Supra 2/Supra-forum/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/a123/Desktop/Supra 2/Supra-forum/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IFRvYXN0IH0gZnJvbSAibWludC11aSI7CmltcG9ydCBteWF4aW9zLCB7CiAgZ2V0c2Vzc2lvblVSTCwKICBtb2RpZnlQYXNzd29yZFVSTAp9IGZyb20gIkAvdG9vbHMvbXlheGlvcy5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXI6ICIiCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgICBhc3luYyBtb2RpZnlQc3coKXsKICAgICAgICAgIHZhciBvbGRwYXNzd29yZCA9IHRoaXMuJHJlZnMub2xkcGFzc3dvcmQudmFsdWU7CiAgICAgICAgICB2YXIgbmV3cGFzc3dvcmQgPSB0aGlzLiRyZWZzLm5ld3Bhc3N3b3JkLnZhbHVlOwogICAgICAgICAgdmFyIHJlbmV3cGFzc3dvcmQgPSB0aGlzLiRyZWZzLnJlbmV3cGFzc3dvcmQudmFsdWU7CiAgICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgICAgIG9sZHBhc3N3b3JkOm9sZHBhc3N3b3JkLAogICAgICAgICAgICAgIG5ld3Bhc3N3b3JkOm5ld3Bhc3N3b3JkLAogICAgICAgICAgICAgIHJlbmV3cGFzc3dvcmQ6cmVuZXdwYXNzd29yZAogICAgICAgICAgfQogICAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IG15YXhpb3MoIlBPU1QiLG1vZGlmeVBhc3N3b3JkVVJMLG9iaikKICAgICAgICAgIGlmKHJlc3VsdC5kYXRhLmNvZGUgPT0gMTAxKXsKICAgICAgICAgICAgVG9hc3QocmVzdWx0LmRhdGEubXNnKQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL215Iik7CiAgICAgICAgICB9CiAgICAgICAgICBlbHNlewogICAgICAgICAgICBUb2FzdChyZXN1bHQuZGF0YS5tc2cpCiAgICAgICAgICB9CiAgICAgIH0KICB9LAogIGFzeW5jIGNyZWF0ZWQoKSB7CiAgICBsZXQgcmVzdWx0MSA9IGF3YWl0IG15YXhpb3MoIkdFVCIsIGdldHNlc3Npb25VUkwpOwogICAgaWYgKHJlc3VsdDEuZGF0YS51c2VyKSB7CiAgICAgIHRoaXMudXNlciA9IHJlc3VsdDEuZGF0YS51c2VyOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9sb2dpbiIpOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHZhciBoZWFkZXJfdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJtaW50LWhlYWRlci10aXRsZSIpWzBdOwogICAgaGVhZGVyX3RpdGxlLmlubmVyVGV4dCA9ICLkv67mlLnlr4bnoIEiCiAgfQp9Owo="},{"version":3,"sources":["modifyPassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"modifyPassword.vue","sourceRoot":"src/views/my_components","sourcesContent":["<template>\n  <div>\n    <div class=\"modifyPassword_item\">\n      <label for>原密码：</label>\n      <input type=\"text\" placeholder=\"请输入原密码：\" ref=\"oldpassword\"/>\n    </div>\n    <div class=\"modifyPassword_item\">\n      <label for>新密码：</label>\n      <input type=\"text\" placeholder=\"请输入密码：\" ref=\"newpassword\"/>\n    </div>\n    <div class=\"modifyPassword_item\">\n      <label for>确认密码：</label>\n      <input type=\"text\" placeholder=\"请输入密码：\" ref=\"renewpassword\"/>\n    </div>\n    <button class=\"modify_btn\" @click=\"modifyPsw\">修改密码</button>\n  </div>\n</template>\n\n<style lang=\"less\" scoped>\n.modifyPassword_item {\n  width: 100%;\n  height: 80px;\n  margin-top: 5px;\n}\n.modify_btn {\n  width: 100%;\n  height: 50px;\n  background: red;\n  color: white;\n  font-size: 20px;\n  border-radius: 20px;\n}\n</style>\n\n<script>\nimport { Toast } from \"mint-ui\";\nimport myaxios, {\n  getsessionURL,\n  modifyPasswordURL\n} from \"@/tools/myaxios.js\";\nexport default {\n  data: function() {\n    return {\n      user: \"\"\n    };\n  },\n  methods: {\n      async modifyPsw(){\n          var oldpassword = this.$refs.oldpassword.value;\n          var newpassword = this.$refs.newpassword.value;\n          var renewpassword = this.$refs.renewpassword.value;\n          var obj = {\n              oldpassword:oldpassword,\n              newpassword:newpassword,\n              renewpassword:renewpassword\n          }\n          let result = await myaxios(\"POST\",modifyPasswordURL,obj)\n          if(result.data.code == 101){\n            Toast(result.data.msg)\n            this.$router.push(\"/my\");\n          }\n          else{\n            Toast(result.data.msg)\n          }\n      }\n  },\n  async created() {\n    let result1 = await myaxios(\"GET\", getsessionURL);\n    if (result1.data.user) {\n      this.user = result1.data.user;\n    } else {\n      this.$router.push(\"/login\");\n    }\n  },\n  mounted() {\n    var header_title = document.getElementsByClassName(\"mint-header-title\")[0];\n    header_title.innerText = \"修改密码\"\n  }\n};\n</script>"]}]}