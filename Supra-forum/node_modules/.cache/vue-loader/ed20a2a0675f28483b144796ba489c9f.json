{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\Supra 2\\Supra-forum\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\Supra 2\\Supra-forum\\src\\views\\my_components\\modifyPassword.vue?vue&type=style&index=0&id=253ebf94&lang=less&scoped=true&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\Supra 2\\Supra-forum\\src\\views\\my_components\\modifyPassword.vue","mtime":1575019630000},{"path":"C:\\Users\\Administrator\\Desktop\\Supra 2\\Supra-forum\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\Supra 2\\Supra-forum\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\Supra 2\\Supra-forum\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\Supra 2\\Supra-forum\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\Supra 2\\Supra-forum\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\Supra 2\\Supra-forum\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCi5tb2RpZnlQYXNzd29yZF9pdGVtIHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDgwcHg7CiAgbWFyZ2luLXRvcDogNXB4Owp9Ci5tb2RpZnlfYnRuIHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDUwcHg7CiAgYmFja2dyb3VuZDogcmVkOwogIGNvbG9yOiB3aGl0ZTsKICBmb250LXNpemU6IDIwcHg7CiAgYm9yZGVyLXJhZGl1czogMjBweDsKfQo="},{"version":3,"sources":["modifyPassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"modifyPassword.vue","sourceRoot":"src/views/my_components","sourcesContent":["<template>\n  <div>\n    <div class=\"modifyPassword_item\">\n      <label for>原密码：</label>\n      <input type=\"text\" placeholder=\"请输入原密码：\" ref=\"oldpassword\"/>\n    </div>\n    <div class=\"modifyPassword_item\">\n      <label for>新密码：</label>\n      <input type=\"text\" placeholder=\"请输入密码：\" ref=\"newpassword\"/>\n    </div>\n    <div class=\"modifyPassword_item\">\n      <label for>确认密码：</label>\n      <input type=\"text\" placeholder=\"请输入密码：\" ref=\"renewpassword\"/>\n    </div>\n    <button class=\"modify_btn\" @click=\"modifyPsw\">修改密码</button>\n  </div>\n</template>\n\n<style lang=\"less\" scoped>\n.modifyPassword_item {\n  width: 100%;\n  height: 80px;\n  margin-top: 5px;\n}\n.modify_btn {\n  width: 100%;\n  height: 50px;\n  background: red;\n  color: white;\n  font-size: 20px;\n  border-radius: 20px;\n}\n</style>\n\n<script>\nimport { Toast } from \"mint-ui\";\nimport myaxios, {\n  getsessionURL,\n  modifyPasswordURL\n} from \"@/tools/myaxios.js\";\nexport default {\n  data: function() {\n    return {\n      user: \"\"\n    };\n  },\n  methods: {\n      async modifyPsw(){\n          var oldpassword = this.$refs.oldpassword.value;\n          var newpassword = this.$refs.newpassword.value;\n          var renewpassword = this.$refs.renewpassword.value;\n          var obj = {\n              oldpassword:oldpassword,\n              newpassword:newpassword,\n              renewpassword:renewpassword\n          }\n          let result = await myaxios(\"POST\",modifyPasswordURL,obj)\n          if(result.data.code == 101){\n            Toast(result.data.msg)\n            this.$router.push(\"/my\");\n          }\n          else{\n            Toast(result.data.msg)\n          }\n      }\n  },\n  async created() {\n    let result1 = await myaxios(\"GET\", getsessionURL);\n    if (result1.data.user) {\n      this.user = result1.data.user;\n    } else {\n      this.$router.push(\"/login\");\n    }\n  },\n  mounted() {\n    var header_title = document.getElementsByClassName(\"mint-header-title\")[0];\n    header_title.innerText = \"修改密码\"\n  }\n};\n</script>"]}]}